<!DOCTYPE html>
{{ `<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->` | safeHTML }}
{{ `<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->` | safeHTML }}
{{ `<!--[if !IE]>  <html lang="en"> <![endif]-->` | safeHTML }}

<head>
  <title>{{ block "title" . }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {{ .Hugo.Generator }}
  <!-- Slack app -->
  <meta name="slack-app-id" content="A6WCHU48J">
  {{ partial "head/meta" . }}
  <link rel="canonical" href="{{ .Permalink }}"> {{ if (isset .Params "prev") }}
  <link rel="prev" href="{{ .Params.prev }}"> {{ end }} {{ if (isset .Params "next") }}
  <link rel="next" href="{{ .Params.next }}"> {{ end }}
  {{- if eq .Params.noindex "true" }}
  <meta name="robots" content="noindex">
  {{ end -}}

  {{ template "_internal/opengraph.html" . }}

  {{ partialCached "head/favicon" . }}
  {{ partialCached "head/css" . }}
  <!-- Headway App -->
  <script>
    var HW_config = {
      selector: ".hw-changelog", // CSS selector where to inject the badge
      account: "76zaR7"
    }
  </script>
  <script async src="//cdn.headwayapp.co/widget.js"></script>
</head>

<body>

  {{ partial "nav/main" . }}
  {{ block "main" . }}
  {{ end }}
  {{ partialCached "footer" . }}

  <!-- Main Javascript -->
  <script src="{{ print "js/" ( index .Site.Data.js "main.js" ) | relURL }}"></script>
  {{ if eq (getenv "HUGO_ENV") "PRODUCTION" }}
  <script async src="https://cdn.simpleanalytics.io/hello.js"></script>
  <noscript><img src="https://api.simpleanalytics.io/hello.gif" alt=""></noscript>
  {{ end }}
  {{ if .IsHome}}
  <script type="application/javascript">
    function geoip(json) {
      var userip = document.getElementById("user_ip");
      var countrycode = document.getElementById("user_countrycode");
      userip.textContent = json.ip;
      countrycode.textContent = json.country_code;
    }
  </script>
  <script async src="https://get.geojs.io/v1/ip/geo.js"></script>
  {{ end }}
</body>

</html>
